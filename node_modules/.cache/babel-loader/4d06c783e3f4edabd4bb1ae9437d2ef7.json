{"ast":null,"code":"import _slicedToArray from\"/Users/omidnezami/Desktop/itp404/assignments/heroku-modal/assignment6/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import\"./App.css\";import{fetchMembers,addFavorite,removeFavorite,fetchFavorites}from\"./httpRequests\";import MemberProfile from'./MemberProfile';import Members from'./Members';import MemberRepos from'./MemberRepos';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),members=_useState2[0],setMembers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isMemberConfirmationShown=_useState4[0],setIsMemberConfirmationShown=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isReposConfimationShown=_useState6[0],setIsReposConfirmationShown=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),currLogin=_useState8[0],setCurrLogin=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),favorites=_useState10[0],setFavorites=_useState10[1];useEffect(function(){fetchFavorites().then(function(response){setFavorites(response);});},[]);function follow(login,id){var member={id:id,login:login};addFavorite(member).then(function(favorite){setFavorites(favorites.concat(favorite));});}function unfollow(id){removeFavorite(id).then(function(){var filtered_favorites=favorites.filter(function(favorite){return favorite.id!==id;});setFavorites(filtered_favorites);});}function showMemberModal(login){setIsMemberConfirmationShown(true);setCurrLogin(login);}function hideMemberModal(){setIsMemberConfirmationShown(false);}function showReposModal(){setIsReposConfirmationShown(true);}function hideReposModal(){setIsReposConfirmationShown(false);}useEffect(function(){fetchMembers(function(data){return Promise.all([data]);}).then(function(memberset){setMembers(memberset);});},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,members&&/*#__PURE__*/React.createElement(Members,{members:members,showMemberModal:showMemberModal,showReposModal:showReposModal,follow:follow,unfollow:unfollow,favorites:favorites}),members&&isMemberConfirmationShown&&currLogin&&/*#__PURE__*/React.createElement(MemberProfile,{onClose:hideMemberModal,login:currLogin}),isReposConfimationShown&&currLogin&&/*#__PURE__*/React.createElement(MemberRepos,{onClose:hideReposModal,login:currLogin}));}export default App;","map":{"version":3,"sources":["/Users/omidnezami/Desktop/itp404/assignments/heroku-modal/assignment6/src/App.js"],"names":["React","useState","useEffect","fetchMembers","addFavorite","removeFavorite","fetchFavorites","MemberProfile","Members","MemberRepos","App","members","setMembers","isMemberConfirmationShown","setIsMemberConfirmationShown","isReposConfimationShown","setIsReposConfirmationShown","currLogin","setCurrLogin","favorites","setFavorites","then","response","follow","login","id","member","favorite","concat","unfollow","filtered_favorites","filter","showMemberModal","hideMemberModal","showReposModal","hideReposModal","data","Promise","all","memberset"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"./App.css\";\nimport { fetchMembers, addFavorite, removeFavorite, fetchFavorites } from \"./httpRequests\";\nimport MemberProfile from './MemberProfile';\nimport Members from './Members'\nimport MemberRepos from './MemberRepos';\n\nfunction App() {\n  const [members, setMembers] = useState([]);\n  const [isMemberConfirmationShown, setIsMemberConfirmationShown] = useState(false);\n  const [isReposConfimationShown, setIsReposConfirmationShown] = useState(false);\n  const [currLogin, setCurrLogin] = useState(\"\");\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    fetchFavorites().then((response) => {\n        setFavorites(response);\n      });\n}, [])\n\n  function follow(login, id){\n    const member = {\n      id,\n      login\n    }\n    addFavorite(member).then((favorite) => {\n      setFavorites(favorites.concat(favorite));\n    });\n  }\n\n  function unfollow(id){\n    removeFavorite(id).then(() => {\n      const filtered_favorites = favorites.filter((favorite) => {\n        return favorite.id !== id;\n      })\n      setFavorites(filtered_favorites);\n    });\n  }\n\n  function showMemberModal(login) {\n    setIsMemberConfirmationShown(true);\n    setCurrLogin(login);\n  }\n\n  function hideMemberModal() {\n    setIsMemberConfirmationShown(false);\n  }\n\n  function showReposModal(){\n    setIsReposConfirmationShown(true);\n  }\n\n  function hideReposModal(){\n    setIsReposConfirmationShown(false);\n  }\n\n  useEffect(() => {\n    fetchMembers((data) => {\n      return Promise.all([data]);\n    }).then((memberset) => {\n      setMembers(memberset);\n    });\n  }, []);\n\n\n\n  return (\n  <>\n    \n    {members && <Members members={members} showMemberModal={showMemberModal} showReposModal={showReposModal} follow={follow} unfollow={unfollow} favorites={favorites}/>}\n    {(members && isMemberConfirmationShown && currLogin) && <MemberProfile onClose={hideMemberModal} login={currLogin} />}\n    {(isReposConfimationShown && currLogin) && <MemberRepos onClose={hideReposModal} login={currLogin} />}\n    \n  </>);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}